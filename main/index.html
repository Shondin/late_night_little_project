<html>
  <head>
    <meta charset="utf-8">
    <title>jquery.pep custom functions</title>

    <!-- Load local jQuery.  -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <!-- Load local lib and tests. -->
    <script src="./js/lib/jquery.pep.js"></script>

    <script type="text/javascript">
      $(document).ready(function(){
        var $timeline = $('#timeline');
        var $matrix = $('#matrix');
        var timeline_width = $timeline.outerWidth();
        var minutes_img_width = 10;
        var minutes = timeline_width/minutes_img_width;

        for (var i =0; i<=minutes; i++){
            $matrix.append("<div class='col' style='width:"+minutes_img_width+"px'></div>")
        }

        $('.pep').pep({
              axis: 'x',
              constrainTo: [0, 3000, 0, -3000],
              initiate: function(ev, obj) {},
              start: function(ev, obj)    {},
              drag: function(ev, obj)     {},
              stop: function(ev, obj)     {},
              rest: function(ev, obj)     {}
        });



      });  
    </script>
    <style type="text/css">
       body{
            overflow:hidden;
       }

      .pep{
            width: 6000px;
            height: 200px;
            color: white;
            opacity: 0.8;
            background: rgba(0, 0, 0, 0.44);
            position: absolute;
            top: 0;
            left: 0px;
      }
      #line{
            position:absolute;
            width:4px;
            height:100%;
            cursor: pointer;
            background: rgb(60,120,255);
            background: -moz-linear-gradient(top,  rgba(60,120,255,1) 0%, rgba(10,80,180,1) 100%); /* FF3.6+ */
            background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(60,120,255,1)), color-stop(100%,rgba(10,80,180,1))); /* Chrome,Safari4+ */
      }
      #indicator{
            position: absolute;
            top: 0;
            left: 50%;
            height: 60px;
            width: 60px;
            margin-top: -50px;
            margin-left: -50px;
            background: rgb(60,120,255);
            background: -moz-linear-gradient(top,  rgba(60,120,255,1) 0%, rgba(10,80,180,1) 100%); /* FF3.6+ */
            background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(60,120,255,1)), color-stop(100%,rgba(10,80,180,1))); /* Chrome,Safari4+ */
            -webkit-transform: rotate(45deg);
      }

      .triangle {
            height: 100px;
            width: 100px;
            position:relative;
            background: rgb(209,39,56);
            background: -moz-linear-gradient(top,  rgba(209,39,56,1) 0%, rgba(122,23,38,1) 100%); /* FF3.6+ */
            background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(209,39,56,1)), color-stop(100%,rgba(122,23,38,1))); /* Chrome,Safari4+ */
            -webkit-linear-gradient(top,  rgba(209,39,56,1) 0%,rgba(122,23,38,1) 100%); /*
            -o-linear-gradient(top,  rgba(209,39,56,1) 0%,rgba(122,23,38,1) 100%); /* Opera 11.10+ */
            -ms-linear-gradient(top,  rgba(209,39,56,1) 0%,rgba(122,23,38,1) 100%); /* IE10+ */
            linear-gradient(top,  rgba(209,39,56,1) 0%,rgba(122,23,38,1) 100%); /* W3C */
            filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#d12738', endColorstr='#7a1726',GradientType=0 ); /* IE6-8 */
      }

      .triangle:after {
            -moz-transform: rotate(135deg);
            -ms-transform:rotate(135deg); /* Internet Explorer */
            -webkit-transform:rotate(135deg); /* Safari and Chrome */
            -o-transform:rotate(135deg); /* Opera */
            background: none repeat scroll 0 0 white;
            content: "";
            height: 159px;
            left: 0;
            margin-left: -50px;
            position: absolute;
            top: 12px;
            width: 120px;
      }

      .triangle:before {
            -moz-transform: rotate(35deg);
            -ms-transform:rotate(35deg); /* Internet Explorer */
            -webkit-transform:rotate(35deg); /* Safari and Chrome */
            -o-transform:rotate(35deg); /* Opera */
            background: none repeat scroll 0 0 white;
            content: "";
            height: 159px;
            left: 21px;
            position: absolute;
            top: 12px;
            width: 120px;
      }

      .col:before {
            position: absolute;
            border-left: 1px black solid;
            content: '';
            height: 3px;
            width: 1px;
            bottom: 0;
            margin-bottom: -4px;
      }

      .col {
            display: inline-block;
            height: 100%;
      }

      #matrix{
            display: table;
            width:6000px;
            height: 100%;
      }


    </style>
  </head>
  <body>
    <div id="timeline">
        <div id="indicator"></div>
        <div id="line"></div>
        <div class="pep">
            <div id="matrix">
            </div>
        </div>
    </div>
  </body>
</html>